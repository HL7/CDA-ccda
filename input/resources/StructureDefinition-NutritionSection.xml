<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
    <id value="NutritionSection"/>
    <extension url="http://hl7.org/fhir/tools/StructureDefinition/logical-target">
        <valueBoolean>
            <extension url="http://hl7.org/fhir/StructureDefinition/data-absent-reason">
                <valueCode value="not-applicable"/>
            </extension>
        </valueBoolean>
    </extension>
    <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-namespace">
        <valueUri value="urn:hl7-org:v3"/>
    </extension>
    <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-xml-name">
        <valueUri value="section"/>
    </extension>
    <extension url="http://hl7.org/fhir/tools/StructureDefinition/type-profile-style">
        <valueUri value="cda"/>
    </extension>
    <url value="http://hl7.org/cda/us/ccda/StructureDefinition/NutritionSection"/>
    <identifier>
        <value value="urn:oid:2.16.840.1.113883.10.20.22.2.57"/>
    </identifier>
    <name value="NutritionSection"/>
    <title value="Nutrition Section"/>
    <status value="draft"/>
    <description value="The Nutrition Section represents diet and nutrition information including special diet requirements and restrictions (e.g., texture modified diet, liquids only, enteral feeding). It also represents the overall nutritional status of the patient and nutrition assessment findings."/>
    <fhirVersion value="5.0.0"/>
    <mapping>
        <identity value="rim"/>
        <uri value="http://hl7.org/v3"/>
        <name value="RIM Mapping"/>
    </mapping>
    <kind value="logical"/>
    <abstract value="false"/>
    <type value="http://hl7.org/cda/stds/core/StructureDefinition/Section"/>
    <baseDefinition value="http://hl7.org/cda/stds/core/StructureDefinition/Section"/>
    <derivation value="constraint"/>
    <differential>
        <element id="Section">
            <path value="Section"/>
            <constraint>
                <key value="should-nutritional-status-obs"/>
                <severity value="warning"/>
                <human value="SHOULD contain Nutritional Status Observation"/>
                <expression value="entry.where(act.templateId.where(root = '2.16.840.1.113883.10.20.22.4.124' and extension.empty()))"/>
                <source value="http://hl7.org/cda/us/ccda/StructureDefinition/NutritionSection"/>
            </constraint>
        </element>
        <element id="Section.templateId">
            <path value="Section.templateId"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="root"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <min value="1"/>
        </element>
        <element id="Section.templateId:section">
            <path value="Section.templateId"/>
            <sliceName value="section"/>
            <min value="1"/>
            <max value="1"/>
        </element>
        <element id="Section.templateId:section.root">
            <path value="Section.templateId.root"/>
            <min value="1"/>
            <patternString value="2.16.840.1.113883.10.20.22.2.57"/>
        </element>
        <element id="Section.templateId:section.extension">
            <path value="Section.templateId.extension"/>
            <max value="0"/>
        </element>
        <element id="Section.code">
            <path value="Section.code"/>
            <short value="Diet and nutrition"/>
            <min value="1"/>
        </element>
        <element id="Section.code.code">
            <path value="Section.code.code"/>
            <min value="1"/>
            <patternCode value="61144-2"/>
        </element>
        <element id="Section.code.codeSystem">
            <path value="Section.code.codeSystem"/>
            <min value="1"/>
            <patternString value="2.16.840.1.113883.6.1"/>
        </element>
        <element id="Section.title">
            <path value="Section.title"/>
            <min value="1"/>
        </element>
        <element id="Section.text">
            <path value="Section.text"/>
            <min value="1"/>
        </element>
        <element id="Section.entry">
            <path value="Section.entry"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="observation"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
        </element>
        <element id="Section.entry:nutritionalStatus">
            <path value="Section.entry"/>
            <sliceName value="nutritionalStatus"/>
            <comment value="SHOULD contain zero or more [0..*] entry (CONF:1098-30321) such that it"/>
            <min value="0"/>
            <max value="*"/>
        </element>
        <element id="Section.entry:nutritionalStatus.observation">
            <path value="Section.entry.observation"/>
            <comment value="SHALL contain exactly one [1..1] Nutritional Status Observation (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.124) (CONF:1098-30322)."/>
            <min value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/Observation"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/NutritionalStatusObservation"/>
            </type>
        </element>
    </differential>
</StructureDefinition>
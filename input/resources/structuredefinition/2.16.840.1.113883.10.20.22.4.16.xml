<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition
    xmlns="http://hl7.org/fhir">
    <id value="2.16.840.1.113883.10.20.22.4.16"/>
    <url value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.16"/>
    <identifier>
        <value value="urn:hl7ii:2.16.840.1.113883.10.20.22.4.16:2014-06-09"/>
    </identifier>
    <version value="2014-06-09"/>
    <name value="MedicationActivity"/>
    <title value="Medication Activity"/>
    <status value="active"/>
    <contact>
        <name value="Gaye Dolin"/>
        <telecom>
            <system value="phone"/>
            <value value="714-744-4152"/>
            <use value="work"/>
        </telecom>
        <telecom>
            <system value="email"/>
            <value value="gaye.dolin@lantanagroup.com"/>
            <use value="work"/>
        </telecom>
    </contact>
    <description value="A Medication Activity describes substance administrations that have actually occurred (e.g., pills ingested or injections given) or are intended to occur (e.g., &quot;take 2 tablets twice a day for the next 10 days&quot;). Medication activities in &quot;INT&quot; mood are reflections of what a clinician intends a patient to be taking. For example, a clinician may intend that a patient be administered Lisinopril 20 mg PO for blood pressure control. If what was actually administered was Lisinopril 10 mg., then the Medication activities in the &quot;EVN&quot; mood would reflect actual use.&#xA;&#xA;A moodCode of INT is allowed, but it is recommended that the Planned Medication Activity (V2) template be used for moodCodes other than EVN if the document type contains a section that includes Planned Medication Activity (V2) (for example a Care Plan document with Plan of Treatment, Intervention, or Goal sections).&#xA;&#xA;At a minimum, a Medication Activity shall include an effectiveTime indicating the duration of the administration (or single-administration timestamp). Ambulatory medication lists generally provide a summary of use for a given medication over time - a medication activity in event mood with the duration reflecting when the medication started and stopped. Ongoing medications will not have a stop date (or will have a stop date with a suitable NULL value). Ambulatory medication lists will generally also have a frequency (e.g., a medication is being taken twice a day). Inpatient medications generally record each administration as a separate act.&#xA;&#xA;The dose (doseQuantity) represents how many of the consumables are to be administered at each administration event. As a result, the dose is always relative to the consumable and the interval of administration. Thus, a patient consuming a single &quot;metoprolol 25mg tablet&quot; per administration will have a doseQuantity of &quot;1&quot;, whereas a patient consuming &quot;metoprolol&quot; will have a dose of &quot;25 mg&quot;."/>
    <fhirVersion value="4.0.1"/>
    <kind value="logical"/>
    <abstract value="false"/>
    <type value="http://hl7.org/cda/stds/core/StructureDefinition/SubstanceAdministration"/>
    <baseDefinition value="http://hl7.org/cda/stds/core/StructureDefinition/SubstanceAdministration"/>
    <derivation value="constraint"/>
    <differential>
        <element id="SubstanceAdministration">
            <path value="SubstanceAdministration"/>
            <constraint>
                <key value="1098-30800"/>
                <severity value="warning"/>
                <human value="Medication Activity **SHOULD** include doseQuantity **OR** rateQuantity (CONF:1098-30800)."/>
            </constraint>
        </element>
        <element id="SubstanceAdministration.classCode">
            <path value="SubstanceAdministration.classCode"/>
            <requirements value="SHALL contain exactly one [1..1] @classCode=&quot;SBADM&quot; (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1098-7496)."/>
            <min value="1"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.moodCode">
            <path value="SubstanceAdministration.moodCode"/>
            <requirements value="SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet MoodCodeEvnInt urn:oid:2.16.840.1.113883.11.20.9.18 STATIC 2011-04-03 (CONF:1098-7497)."/>
            <min value="1"/>
            <max value="1"/>
            <binding>
                <strength value="required"/>
                <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.11.20.9.18"/>
            </binding>
        </element>
        <element id="SubstanceAdministration.templateId">
            <path value="SubstanceAdministration.templateId"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="extension"/>
                </discriminator>
                <discriminator>
                    <type value="value"/>
                    <path value="root"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <min value="1"/>
        </element>
        <element id="SubstanceAdministration.templateId:primary">
            <path value="SubstanceAdministration.templateId"/>
            <sliceName value="primary"/>
            <requirements value="SHALL contain exactly one [1..1] templateId (CONF:1098-7499) such that it"/>
            <min value="1"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.templateId:primary.root">
            <path value="SubstanceAdministration.templateId.root"/>
            <requirements value="SHALL contain exactly one [1..1] @root=&quot;2.16.840.1.113883.10.20.22.4.16&quot; (CONF:1098-10504)."/>
            <min value="1"/>
            <max value="1"/>
            <patternString value="2.16.840.1.113883.10.20.22.4.16"/>
        </element>
        <element id="SubstanceAdministration.templateId:primary.extension">
            <path value="SubstanceAdministration.templateId.extension"/>
            <requirements value="SHALL contain exactly one [1..1] @extension=&quot;2014-06-09&quot; (CONF:1098-32498)."/>
            <min value="1"/>
            <max value="1"/>
            <patternString value="2014-06-09"/>
        </element>
        <element id="SubstanceAdministration.id">
            <path value="SubstanceAdministration.id"/>
            <requirements value="SHALL contain at least one [1..*] id (CONF:1098-7500)."/>
            <min value="1"/>
            <max value="*"/>
        </element>
        <element id="SubstanceAdministration.code">
            <path value="SubstanceAdministration.code"/>
            <label value="SubstanceAdministration.code is an optional field. Per HL7 Pharmacy Committee, &quot;this is intended to further specify the nature of the substance administration act. To date the committee has made no use of this attribute&quot;. Because the type of substance administration is generally implicit in the routeCode, in the consumable participant, etc., the field is generally not used, and there is no defined value set."/>
            <short value="SubstanceAdministration.code is an optional field. Per HL7 Pharmacy Committee, &quot;this is intended to further specify the nature of the substance administration act. To date the committee has made no use of this attribute&quot;. Because the type of substance administration is generally implicit in the routeCode, in the consumable participant, etc., the field is generally not used, and there is no defined value set."/>
            <requirements value="MAY contain zero or one [0..1] code (CONF:1098-7506)."/>
            <min value="0"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.statusCode">
            <path value="SubstanceAdministration.statusCode"/>
            <requirements value="SHALL contain exactly one [1..1] statusCode (CONF:1098-7507)."/>
            <min value="1"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.statusCode.code">
            <path value="SubstanceAdministration.statusCode.code"/>
            <short value="The substance administration effectiveTime field can repeat, in order to represent varying levels of complex dosing. effectiveTime can be used to represent the duration of administration (e.g., &quot;10 days&quot;), the frequency of administration (e.g., &quot;every 8 hours&quot;), and more. Here, we require that there SHALL be an effectiveTime documentation of the duration (or single-administration timestamp), and that there SHOULD be an effectiveTime documentation of the frequency. Other timing nuances, supported by the base CDA R2 standard, may also be included."/>
            <requirements value="This statusCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Medication Status urn:oid:2.16.840.1.113762.1.4.1099.11 DYNAMIC (CONF:1098-32360)."/>
            <min value="1"/>
            <max value="1"/>
            <binding>
                <strength value="required"/>
                <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1099.11"/>
            </binding>
        </element>
        <element id="SubstanceAdministration.effectiveTime">
            <path value="SubstanceAdministration.effectiveTime"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="operator"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <min value="1"/>
        </element>
        <element id="SubstanceAdministration.effectiveTime:duration">
            <path value="SubstanceAdministration.effectiveTime"/>
            <sliceName value="duration"/>
            <label value="This effectiveTime represents either the medication duration (i.e., the time the medication was started and stopped) or the single-administration timestamp."/>
            <short value="This effectiveTime represents either the medication duration (i.e., the time the medication was started and stopped) or the single-administration timestamp."/>
            <requirements value="SHALL contain exactly one [1..1] effectiveTime (CONF:1098-7508) such that it"/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/IVL-TS"/>
            </type>
            <constraint>
                <key value="1098-32890"/>
                <severity value="error"/>
                <human value="This effectiveTime **SHALL** contain either a low or a @value but not both (CONF:1098-32890)."/>
            </constraint>
        </element>
        <element id="SubstanceAdministration.effectiveTime:duration.value">
            <path value="SubstanceAdministration.effectiveTime.value"/>
            <label value="indicates a single-administration timestamp"/>
            <short value="indicates a single-administration timestamp"/>
            <requirements value="SHOULD contain zero or one [0..1] @value (CONF:1098-32775)."/>
            <min value="0"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.effectiveTime:duration.low">
            <path value="SubstanceAdministration.effectiveTime.low"/>
            <label value="indicates when medication started"/>
            <short value="indicates when medication started"/>
            <requirements value="SHOULD contain zero or one [0..1] low (CONF:1098-32776)."/>
            <min value="0"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.effectiveTime:duration.high">
            <path value="SubstanceAdministration.effectiveTime.high"/>
            <label value="indicates when medication stopped"/>
            <short value="indicates when medication stopped"/>
            <requirements value="MAY contain zero or one [0..1] high (CONF:1098-32777)."/>
            <min value="0"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.effectiveTime:frequency">
            <path value="SubstanceAdministration.effectiveTime"/>
            <sliceName value="frequency"/>
            <label value="This effectiveTime represents the medication frequency (e.g., administration times per day)."/>
            <short value="This effectiveTime represents the medication frequency (e.g., administration times per day)."/>
            <requirements value="SHOULD contain zero or one [0..1] effectiveTime (CONF:1098-7513) such that it"/>
            <min value="0"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/SXCM-TS"/>
            </type>
            <constraint>
                <key value="1098-28499"/>
                <severity value="error"/>
                <human value="**SHALL** contain exactly one [1..1] @xsi:type=&quot;PIVL_TS&quot; or &quot;EIVL_TS&quot; (CONF:1098-28499)."/>
            </constraint>
        </element>
        <element id="SubstanceAdministration.effectiveTime:frequency.operator">
            <path value="SubstanceAdministration.effectiveTime.operator"/>
            <requirements value="SHALL contain exactly one [1..1] @operator=&quot;A&quot; (CONF:1098-9106)."/>
            <min value="1"/>
            <max value="1"/>
            <patternCode value="A"/>
        </element>
        <element id="SubstanceAdministration.repeatNumber">
            <path value="SubstanceAdministration.repeatNumber"/>
            <short value="In &quot;INT&quot; (intent) mood, the repeatNumber defines the number of allowed administrations. For example, a repeatNumber of &quot;3&quot; means that the substance can be administered up to 3 times. In &quot;EVN&quot; (event) mood, the repeatNumber is the number of occurrences. For example, a repeatNumber of &quot;3&quot; in a substance administration event means that the current administration is the 3rd in a series."/>
            <requirements value="MAY contain zero or one [0..1] repeatNumber (CONF:1098-7555)."/>
            <min value="0"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.routeCode">
            <path value="SubstanceAdministration.routeCode"/>
            <requirements value="SHOULD contain zero or one [0..1] routeCode, which SHALL be selected from ValueSet SPL Drug Route of Administration Terminology urn:oid:2.16.840.1.113883.3.88.12.3221.8.7 DYNAMIC (CONF:1098-7514)."/>
            <min value="0"/>
            <max value="1"/>
            <binding>
                <strength value="required"/>
                <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.88.12.3221.8.7"/>
            </binding>
        </element>
        <element id="SubstanceAdministration.routeCode.translation">
            <path value="SubstanceAdministration.routeCode.translation"/>
            <requirements value="The routeCode, if present, SHOULD contain zero or more [0..*] translation, which SHALL be selected from ValueSet Medication Route urn:oid:2.16.840.1.113762.1.4.1099.12 DYNAMIC (CONF:1098-32950)."/>
            <min value="0"/>
            <max value="*"/>
            <binding>
                <strength value="required"/>
                <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1099.12"/>
            </binding>
        </element>
        <element id="SubstanceAdministration.approachSiteCode">
            <path value="SubstanceAdministration.approachSiteCode"/>
            <requirements value="MAY contain zero or one [0..1] approachSiteCode, where the code SHALL be selected from ValueSet Body Site Value Set urn:oid:2.16.840.1.113883.3.88.12.3221.8.9 DYNAMIC (CONF:1098-7515)."/>
            <min value="0"/>
            <max value="1"/>
            <binding>
                <strength value="required"/>
                <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.88.12.3221.8.9"/>
            </binding>
        </element>
        <element id="SubstanceAdministration.doseQuantity">
            <path value="SubstanceAdministration.doseQuantity"/>
            <requirements value="SHALL contain exactly one [1..1] doseQuantity (CONF:1098-7516)."/>
            <min value="1"/>
            <max value="1"/>
            <constraint>
                <key value="1098-16879"/>
                <severity value="warning"/>
                <human value="Not pre-coordinated consumable: If the consumable code is not pre-coordinated (e.g., is simply &quot;metoprolol&quot;), then doseQuantity must represent a physical quantity with @unit, e.g., &quot;25&quot; and &quot;mg&quot;, specifying the amount of product given per administration (CONF:1098-16879)."/>
            </constraint>
            <constraint>
                <key value="1098-16878"/>
                <severity value="warning"/>
                <human value="Pre-coordinated consumable: If the consumable code is a pre-coordinated unit dose (e.g., &quot;metoprolol 25mg tablet&quot;) then doseQuantity is a unitless number that indicates the number of products given per administration (e.g., &quot;2&quot;, meaning 2 x &quot;metoprolol 25mg tablet&quot; per administration) (CONF:1098-16878)."/>
            </constraint>
        </element>
        <element id="SubstanceAdministration.doseQuantity.unit">
            <path value="SubstanceAdministration.doseQuantity.unit"/>
            <requirements value="This doseQuantity SHOULD contain zero or one [0..1] @unit, which SHALL be selected from ValueSet UnitsOfMeasureCaseSensitive urn:oid:2.16.840.1.113883.1.11.12839 DYNAMIC (CONF:1098-7526)."/>
            <min value="0"/>
            <max value="1"/>
            <binding>
                <strength value="required"/>
                <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.1.11.12839"/>
            </binding>
        </element>
        <element id="SubstanceAdministration.rateQuantity">
            <path value="SubstanceAdministration.rateQuantity"/>
            <requirements value="MAY contain zero or one [0..1] rateQuantity (CONF:1098-7517)."/>
            <min value="0"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.rateQuantity.unit">
            <path value="SubstanceAdministration.rateQuantity.unit"/>
            <requirements value="The rateQuantity, if present, SHALL contain exactly one [1..1] @unit, which SHALL be selected from ValueSet UnitsOfMeasureCaseSensitive urn:oid:2.16.840.1.113883.1.11.12839 DYNAMIC (CONF:1098-7525)."/>
            <min value="1"/>
            <max value="1"/>
            <binding>
                <strength value="required"/>
                <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.1.11.12839"/>
            </binding>
        </element>
        <element id="SubstanceAdministration.maxDoseQuantity">
            <path value="SubstanceAdministration.maxDoseQuantity"/>
            <requirements value="MAY contain zero or one [0..1] maxDoseQuantity (CONF:1098-7518)."/>
            <min value="0"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.administrationUnitCode">
            <path value="SubstanceAdministration.administrationUnitCode"/>
            <short value="administrationUnitCode@code describes the units of medication administration for an item using a code that is pre-coordinated to include a physical unit form (ointment, powder, solution, etc.) which differs from the units used in administering the consumable (capful, spray, drop, etc.). For example when recording medication administrations, 'metric drop (C48491)'' would be appropriate to accompany the RxNorm code of 198283 (Timolol 0.25% Ophthalmic Solution) where the number of drops would be specified in doseQuantity@value."/>
            <requirements value="MAY contain zero or one [0..1] administrationUnitCode, which SHALL be selected from ValueSet AdministrationUnitDoseForm urn:oid:2.16.840.1.113762.1.4.1021.30 DYNAMIC (CONF:1098-7519)."/>
            <min value="0"/>
            <max value="1"/>
            <binding>
                <strength value="required"/>
                <valueSet value="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1021.30"/>
            </binding>
        </element>
        <element id="SubstanceAdministration.consumable">
            <path value="SubstanceAdministration.consumable"/>
            <requirements value="SHALL contain exactly one [1..1] consumable (CONF:1098-7520)."/>
            <min value="1"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.consumable.manufacturedProduct">
            <path value="SubstanceAdministration.consumable.manufacturedProduct"/>
            <requirements value="This consumable SHALL contain exactly one [1..1] Medication Information (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.22.4.23:2014-06-09) (CONF:1098-16085)."/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/ManufacturedProduct"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.23"/>
            </type>
        </element>
        <element id="SubstanceAdministration.performer">
            <path value="SubstanceAdministration.performer"/>
            <requirements value="MAY contain zero or one [0..1] performer (CONF:1098-7522)."/>
            <min value="0"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.author">
            <path value="SubstanceAdministration.author"/>
            <requirements value="SHOULD contain zero or more [0..*] Author Participation (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.119) (CONF:1098-31150)."/>
            <min value="0"/>
            <max value="*"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/Author"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.119"/>
            </type>
        </element>
        <element id="SubstanceAdministration.participant">
            <path value="SubstanceAdministration.participant"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="participantRole"/>
                </discriminator>
                <discriminator>
                    <type value="value"/>
                    <path value="typeCode"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
        </element>
        <element id="SubstanceAdministration.participant:drugVehicle">
            <path value="SubstanceAdministration.participant"/>
            <sliceName value="drugVehicle"/>
            <requirements value="MAY contain zero or more [0..*] participant (CONF:1098-7523) such that it"/>
            <min value="0"/>
            <max value="*"/>
        </element>
        <element id="SubstanceAdministration.participant:drugVehicle.typeCode">
            <path value="SubstanceAdministration.participant.typeCode"/>
            <requirements value="SHALL contain exactly one [1..1] @typeCode=&quot;CSM&quot; (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:1098-7524)."/>
            <min value="1"/>
            <max value="1"/>
            <patternCode value="CSM"/>
        </element>
        <element id="SubstanceAdministration.participant:drugVehicle.participantRole">
            <path value="SubstanceAdministration.participant.participantRole"/>
            <requirements value="SHALL contain exactly one [1..1] Drug Vehicle (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.24) (CONF:1098-16086)."/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/ParticipantRole"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.24"/>
            </type>
        </element>
        <element id="SubstanceAdministration.entryRelationship">
            <path value="SubstanceAdministration.entryRelationship"/>
            <slicing>
                <discriminator>
                    <type value="profile"/>
                    <path value="substanceAdministration"/>
                </discriminator>
                <discriminator>
                    <type value="profile"/>
                    <path value="observation"/>
                </discriminator>
                <discriminator>
                    <type value="profile"/>
                    <path value="act"/>
                </discriminator>
                <discriminator>
                    <type value="profile"/>
                    <path value="supply"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
        </element>
        <element id="SubstanceAdministration.entryRelationship:indication">
            <path value="SubstanceAdministration.entryRelationship"/>
            <sliceName value="indication"/>
            <requirements value="MAY contain zero or more [0..*] entryRelationship (CONF:1098-7536) such that it"/>
            <min value="0"/>
            <max value="*"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:indication.typeCode">
            <path value="SubstanceAdministration.entryRelationship.typeCode"/>
            <requirements value="SHALL contain exactly one [1..1] @typeCode=&quot;RSON&quot; (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1098-7537)."/>
            <min value="1"/>
            <max value="1"/>
            <patternCode value="RSON"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:indication.observation">
            <path value="SubstanceAdministration.entryRelationship.observation"/>
            <requirements value="SHALL contain exactly one [1..1] Indication (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.22.4.19:2014-06-09) (CONF:1098-16087)."/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/Observation"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.19"/>
            </type>
        </element>
        <element id="SubstanceAdministration.entryRelationship:instruction">
            <path value="SubstanceAdministration.entryRelationship"/>
            <sliceName value="instruction"/>
            <requirements value="MAY contain zero or one [0..1] entryRelationship (CONF:1098-7539) such that it"/>
            <min value="0"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:instruction.typeCode">
            <path value="SubstanceAdministration.entryRelationship.typeCode"/>
            <requirements value="SHALL contain exactly one [1..1] @typeCode=&quot;SUBJ&quot; (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1098-7540)."/>
            <min value="1"/>
            <max value="1"/>
            <patternCode value="SUBJ"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:instruction.inversionInd">
            <path value="SubstanceAdministration.entryRelationship.inversionInd"/>
            <requirements value="SHALL contain exactly one [1..1] @inversionInd=&quot;true&quot; True (CONF:1098-7542)."/>
            <min value="1"/>
            <max value="1"/>
            <patternBoolean value="true"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:instruction.act">
            <path value="SubstanceAdministration.entryRelationship.act"/>
            <requirements value="SHALL contain exactly one [1..1] Instruction (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.22.4.20:2014-06-09) (CONF:1098-31387)."/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/Act"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.20"/>
            </type>
        </element>
        <element id="SubstanceAdministration.entryRelationship:supplyOrder">
            <path value="SubstanceAdministration.entryRelationship"/>
            <sliceName value="supplyOrder"/>
            <requirements value="MAY contain zero or one [0..1] entryRelationship (CONF:1098-7543) such that it"/>
            <min value="0"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:supplyOrder.typeCode">
            <path value="SubstanceAdministration.entryRelationship.typeCode"/>
            <requirements value="SHALL contain exactly one [1..1] @typeCode=&quot;REFR&quot; (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1098-7547)."/>
            <min value="1"/>
            <max value="1"/>
            <patternCode value="REFR"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:supplyOrder.supply">
            <path value="SubstanceAdministration.entryRelationship.supply"/>
            <requirements value="SHALL contain exactly one [1..1] Medication Supply Order (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.22.4.17:2014-06-09) (CONF:1098-16089)."/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/Supply"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.17"/>
            </type>
        </element>
        <element id="SubstanceAdministration.entryRelationship:medicationDispense">
            <path value="SubstanceAdministration.entryRelationship"/>
            <sliceName value="medicationDispense"/>
            <requirements value="MAY contain zero or more [0..*] entryRelationship (CONF:1098-7549) such that it"/>
            <min value="0"/>
            <max value="*"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:medicationDispense.typeCode">
            <path value="SubstanceAdministration.entryRelationship.typeCode"/>
            <requirements value="SHALL contain exactly one [1..1] @typeCode=&quot;REFR&quot; (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1098-7553)."/>
            <min value="1"/>
            <max value="1"/>
            <patternCode value="REFR"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:medicationDispense.supply">
            <path value="SubstanceAdministration.entryRelationship.supply"/>
            <requirements value="SHALL contain exactly one [1..1] Medication Dispense (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.22.4.18:2014-06-09) (CONF:1098-16090)."/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/Supply"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.18"/>
            </type>
        </element>
        <element id="SubstanceAdministration.entryRelationship:reaction">
            <path value="SubstanceAdministration.entryRelationship"/>
            <sliceName value="reaction"/>
            <requirements value="MAY contain zero or more [0..*] entryRelationship (CONF:1098-7552) such that it"/>
            <min value="0"/>
            <max value="*"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:reaction.typeCode">
            <path value="SubstanceAdministration.entryRelationship.typeCode"/>
            <requirements value="SHALL contain exactly one [1..1] @typeCode=&quot;CAUS&quot; (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1098-7544)."/>
            <min value="1"/>
            <max value="1"/>
            <patternCode value="CAUS"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:reaction.observation">
            <path value="SubstanceAdministration.entryRelationship.observation"/>
            <requirements value="SHALL contain exactly one [1..1] Reaction Observation (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.22.4.9:2014-06-09) (CONF:1098-16091)."/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/Observation"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.9"/>
            </type>
        </element>
        <element id="SubstanceAdministration.entryRelationship:drugMonitoring">
            <path value="SubstanceAdministration.entryRelationship"/>
            <sliceName value="drugMonitoring"/>
            <requirements value="MAY contain zero or one [0..1] entryRelationship (CONF:1098-30820) such that it"/>
            <min value="0"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:drugMonitoring.typeCode">
            <path value="SubstanceAdministration.entryRelationship.typeCode"/>
            <requirements value="SHALL contain exactly one [1..1] @typeCode=&quot;COMP&quot; Has component (CONF:1098-30821)."/>
            <min value="1"/>
            <max value="1"/>
            <patternCode value="COMP"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:drugMonitoring.act">
            <path value="SubstanceAdministration.entryRelationship.act"/>
            <requirements value="SHALL contain exactly one [1..1] Drug Monitoring Act (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.123) (CONF:1098-30822)."/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/Act"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.123"/>
            </type>
        </element>
        <element id="SubstanceAdministration.entryRelationship:substanceAdministered">
            <path value="SubstanceAdministration.entryRelationship"/>
            <sliceName value="substanceAdministered"/>
            <short value="The following entryRelationship is used to indicate a given medication's order in a series. The nested Substance Administered Act identifies an administration in the series. The entryRelationship/sequenceNumber shows the order of this particular administration in that series."/>
            <requirements value="MAY contain zero or more [0..*] entryRelationship (CONF:1098-31515) such that it"/>
            <min value="0"/>
            <max value="*"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:substanceAdministered.typeCode">
            <path value="SubstanceAdministration.entryRelationship.typeCode"/>
            <requirements value="SHALL contain exactly one [1..1] @typeCode=&quot;COMP&quot; Component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1098-31516)."/>
            <min value="1"/>
            <max value="1"/>
            <patternCode value="COMP"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:substanceAdministered.inversionInd">
            <path value="SubstanceAdministration.entryRelationship.inversionInd"/>
            <requirements value="SHALL contain exactly one [1..1] @inversionInd=&quot;true&quot; (CONF:1098-31517)."/>
            <min value="1"/>
            <max value="1"/>
            <patternBoolean value="true"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:substanceAdministered.sequenceNumber">
            <path value="SubstanceAdministration.entryRelationship.sequenceNumber"/>
            <requirements value="MAY contain zero or one [0..1] sequenceNumber (CONF:1098-31518)."/>
            <min value="0"/>
            <max value="1"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:substanceAdministered.act">
            <path value="SubstanceAdministration.entryRelationship.act"/>
            <requirements value="SHALL contain exactly one [1..1] Substance Administered Act (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.118) (CONF:1098-31519)."/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/Act"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.118"/>
            </type>
        </element>
        <element id="SubstanceAdministration.entryRelationship:signature">
            <path value="SubstanceAdministration.entryRelationship"/>
            <sliceName value="signature"/>
            <requirements value="MAY contain zero or more [0..*] entryRelationship (CONF:1098-32907) such that it"/>
            <min value="0"/>
            <max value="*"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:signature.typeCode">
            <path value="SubstanceAdministration.entryRelationship.typeCode"/>
            <requirements value="SHALL contain exactly one [1..1] @typeCode=&quot;COMP&quot; Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1098-32908)."/>
            <min value="1"/>
            <max value="1"/>
            <patternCode value="COMP"/>
        </element>
        <element id="SubstanceAdministration.entryRelationship:signature.substanceAdministration">
            <path value="SubstanceAdministration.entryRelationship.substanceAdministration"/>
            <requirements value="SHALL contain exactly one [1..1] Medication Free Text Sig (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.147) (CONF:1098-32909)."/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/SubstanceAdministration"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.147"/>
            </type>
        </element>
        <element id="SubstanceAdministration.precondition">
            <path value="SubstanceAdministration.precondition"/>
            <requirements value="MAY contain zero or more [0..*] precondition (CONF:1098-31520)."/>
            <min value="0"/>
            <max value="*"/>
        </element>
        <element id="SubstanceAdministration.precondition.typeCode">
            <path value="SubstanceAdministration.precondition.typeCode"/>
            <requirements value="The precondition, if present, SHALL contain exactly one [1..1] @typeCode=&quot;PRCN&quot; (CONF:1098-31882)."/>
            <min value="1"/>
            <max value="1"/>
            <patternCode value="PRCN"/>
        </element>
        <element id="SubstanceAdministration.precondition.criterion">
            <path value="SubstanceAdministration.precondition.criterion"/>
            <requirements value="The precondition, if present, SHALL contain exactly one [1..1] Precondition for Substance Administration (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.22.4.25:2014-06-09) (CONF:1098-31883)."/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://hl7.org/cda/stds/core/StructureDefinition/Criterion"/>
                <profile value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.25"/>
            </type>
        </element>
    </differential>
</StructureDefinition>
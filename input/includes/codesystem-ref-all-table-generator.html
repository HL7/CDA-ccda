<!-- Source =  This file is generated by liquid syntax below. The source table is the ig-publisher generated temp/pages/copdesystem-ref-all-list.csv which needs to be manually or by script copied into the _data folder.

There is also a hand crafted `input/data/source.yml` mapping the name of source to the base_URL and linking to a user friendly view since this data is not produced by the generated table :-( 

updated:
- VSAC to reference the user facing page in instead of FHIR CodeSystem page
- FHBIR to reference ver R4 FHIR CodeSystem page
- US CORE to reference current ver CodeSystem page
- phinvads??? does not seem to be a FHIR CodeSystem page opr proper link?
- THO to reference current ver CodeSystem page
-->

Code System Sources:

- [FHIR]({{site.data.fhir.path}})
- [US CORE]({{site.data.uscore.path}}/terminology.html)
- [PHINVADS ODH](https://phinvads.cdc.gov/vads/ViewCodeSystem.action?id=2.16.840.1.114222.4.5.327)
- [THO](http://terminology.hl7.org/)
- [SNOMED](http://snomed.info/sct)
- [LOINC](http://loinc.org)
- [UCUM](http://unitsofmeasure.org)
- [CDC](https://www.cdc.gov/index.htm)
- Code systems published by other standards organizations

{% assign rows = site.data.codesystem-filtered | sort: "Title" %}
{% assign bad-THO-list = "http://terminology.hl7.org/fhir/CodeSystem/medicationdispense-category, http://terminology.hl7.org/CodeSystem/medicationdispense-status, http://terminology.hl7.org/fhir/CodeSystem/medicationdispense-status-reason" | split: ", " %}
{% for item in rows %}
{% assign cs_link = item.URL %}
{% assign no_link = false %}
{% assign source = "Other" %}
{% if forloop.first %}
<table class="grid">
<thead>
<tr>
<th>Code System</th>
<th>Code System URI</th>
<th>Value Sets Where Used</th>
<th>Source</th>
</tr>
</thead>
<tbody>
{% endif %} 

{% if item.URL contains 'http://hl7.org/fhir/us/core/CodeSystem/' %}
{% assign source = "US CORE" %}<!-- US Core -->
{% assign stem_URL = item.URL | split: 'CodeSystem/' | last  %}
{% assign cs_link = site.data.uscore.path | append: "codesystem-" | append: stem_URL | append: '.html' %}
{% elsif bad-THO-list contains item.URL %}
{% assign source = "THO" %} <!-- THO-->
{% assign no_link = true %}
{% elsif item.URL contains 'http://terminology.hl7.org/CodeSystem/' %}
{% assign source = "THO" %} <!-- THO-->
{% elsif item.URL contains 'http://hl7.org/fhir/sid/icd-10-cm' %}
{% assign source = "CDC" %}
{% assign cs_link = 'https://www.cdc.gov/nchs/icd/icd-10-cm.htm' %}
{% elsif item.URL contains 'http://hl7.org/fhir/sid/cvx' %}
{% assign source = "CDC" %}
{% assign cs_link = 'https://www2a.cdc.gov/vaccines/iis/iisstandards/vaccines.asp?rpt=cvx' %}
{% elsif item.URL == 'http://hl7.org/fhir/fhir-types' %} <!-- fix bad link -->
{% assign source = "FHIR" %} <!-- fhir -->
{% elsif item.URL contains 'http://hl7.org/fhir/CodeSystem' %}
{% assign source = "FHIR" %} <!-- fhir -->
{% assign stem_URL = item.URL | split: 'CodeSystem/' | last  %}
{% assign cs_link = site.data.fhir.path | append: "codesystem-" | append: stem_URL | append: '.html' %}
{% elsif item.URL contains 'http://hl7.org/fhir/' %}
{% assign source = "FHIR" %} <!-- fhir -->
{% assign stem_URL = item.URL | split: 'fhir/' | last %}
{% assign cs_link = site.data.fhir.path | append: "codesystem-" | append: stem_URL | append: '.html' %}
{% elsif item.URL contains 'http://cts.nlm.nih.gov/fhir/' %}
{% assign source = "VSAC" %}
{% elsif item.URL contains 'http://phinvads.cdc.gov/' %}
{% assign source = "PHINVADS" %} <!-- PHINVADS-->
{% elsif item.URL contains 'http://snomed.info/sct' %}
{% assign source = "SNOMED" %}
{% elsif item.URL contains 'http://unitsofmeasure.org' %}
{% assign source = "UCUM" %}
{% elsif item.URL contains 'http://loinc.org' %}
{% assign source = "LOINC" %}
{% elsif item.URL contains '2.16.840.1.113883.6.238' %}
{% assign source = "PHINVADS" %}
{% assign cs_link = 'https://phinvads.cdc.gov/vads/ViewCodeSystem.action?id=2.16.840.1.113883.6.238' %}
{% elsif item.URL contains 'ietf:bcp:47' %}
{% assign source = "IETF" %}
{% assign cs_link = 'https://www.loc.gov/standards/iso639-2/php/code_list.php' %}
{% elsif item.URL contains 'iso:std:iso:3166' %}
{% assign source = "ISO" %}
{% assign cs_link = 'https://www.iso.org/iso-3166-country-codes.html' %}
{% elsif item.URL contains 'urn' %} <!-- rest with no link e.g urn or OID -->
{% assign no_link = true %}
{% else %} <!--  Other sources - us URL as link -->
{% endif %}
<tr>
<td>{% if no_link %}{{item.Title}}</td>{% else %}<a href="{{cs_link}}">{{item.Title}}</a></td>{% endif %}
<td><code>{{item.URL}}</code></td>
<td>{{item.Used | split: ',' | join: '<br />'}}</td>
<td>{{source}}</td>
</tr>
{% if forloop.last %}
</tbody>
</table>
{% endif %}
{% endfor %}
<!-- End: input/includes/codesystem-ref-all-table-generator.html -->


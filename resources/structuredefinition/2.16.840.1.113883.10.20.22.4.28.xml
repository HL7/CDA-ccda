<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition
    xmlns="http://hl7.org/fhir">
    <id value="2.16.840.1.113883.10.20.22.4.28"/>
    <url value="http://hl7.org/cda/us/ccda/StructureDefinition/2.16.840.1.113883.10.20.22.4.28"/>
    <identifier>
        <value value="urn:hl7ii:2.16.840.1.113883.10.20.22.4.28:2014-06-09"/>
    </identifier>
    <version value="2014-06-09"/>
    <name value="Allergy Status Observation (DEPRECATED)"/>
    <contact>
        <name value="Gaye Dolin"/>
        <telecom>
            <system value="phone"/>
            <value value="714-744-4152"/>
            <use value="work"/>
        </telecom>
        <telecom>
            <system value="email"/>
            <value value="gaye.dolin@lantanagroup.com"/>
            <use value="work"/>
        </telecom>
    </contact>
    <description value="This template represents the status of the allergy indicating whether it is active, no longer active, or is an historic allergy. There can be only one allergy status observation per alert observation.&#xA;&#xA;THIS TEMPLATE HAS BEEN DEPRECATED AND MAY BE DELETED FROM A FUTURE RELEASE OF THIS IMPLEMENTATION GUIDE. USE OF THIS TEMPLATE IS NOT RECOMMENDED.&#xA;&#xA;*Reason for deprecation*: Per the explanation in Volume 1, Section 3.2 &quot;Determining a Clinical Statement's Status&quot;, the status of an allergy is determined based on attributes of the Allergy Problem Act and Allergy - Intolerance Observation."/>
    <kind value="resource"/>
    <abstract value="false"/>
    <context/>
    <type value="Observation"/>
    <baseDefinition value="http://hl7.org/fhir/cda/StructureDefinition/Observation"/>
    <derivation value="constraint"/>
    <differential>
        <element id="Observation">
            <path value="Observation"/>
        </element>
        <element id="Observation.classCode">
            <path value="Observation.classCode"/>
            <short value="classCode"/>
            <definition value="SHALL contain exactly one [1..1] @classCode=&quot;OBS&quot; Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1098-7318)."/>
            <min value="1"/>
            <max value="1"/>
            <patternString value="OBS"/>
        </element>
        <element id="Observation.moodCode">
            <path value="Observation.moodCode"/>
            <short value="moodCode"/>
            <definition value="SHALL contain exactly one [1..1] @moodCode=&quot;EVN&quot; Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1098-7319)."/>
            <min value="1"/>
            <max value="1"/>
            <patternString value="EVN"/>
        </element>
        <element id="Observation.templateId">
            <path value="Observation.templateId"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="root"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <definition value="SHALL contain exactly one [1..1] templateId (CONF:1098-7317) such that it"/>
        </element>
        <element id="Observation.templateId:templateId1">
            <path value="Observation.templateId"/>
            <sliceName value="templateId1"/>
            <short value="templateId"/>
            <definition value="SHALL contain exactly one [1..1] templateId (CONF:1098-7317) such that it"/>
            <min value="1"/>
            <max value="1"/>
        </element>
        <element id="Observation.templateId:templateId1.root">
            <path value="Observation.templateId.root"/>
            <sliceName value="templateId1"/>
            <short value="root"/>
            <definition value="SHALL contain exactly one [1..1] @root=&quot;2.16.840.1.113883.10.20.22.4.28&quot; (CONF:1098-10490)."/>
            <min value="1"/>
            <max value="1"/>
            <patternString value="2.16.840.1.113883.10.20.22.4.28"/>
        </element>
        <element id="Observation.code">
            <path value="Observation.code"/>
            <short value="code"/>
            <definition value="SHALL contain exactly one [1..1] code (CONF:1098-7320)."/>
            <min value="1"/>
            <max value="1"/>
        </element>
        <element id="Observation.code.code">
            <path value="Observation.code.code"/>
            <short value="code"/>
            <definition value="This code SHALL contain exactly one [1..1] @code=&quot;33999-4&quot; Status (CONF:1098-19131)."/>
            <min value="1"/>
            <max value="1"/>
            <patternString value="33999-4"/>
        </element>
        <element id="Observation.code.codeSystem">
            <path value="Observation.code.codeSystem"/>
            <short value="codeSystem"/>
            <definition value="This code SHALL contain exactly one [1..1] @codeSystem=&quot;2.16.840.1.113883.6.1&quot; (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1098-32155)."/>
            <min value="1"/>
            <max value="1"/>
            <patternString value="2.16.840.1.113883.6.1"/>
        </element>
        <element id="Observation.statusCode">
            <path value="Observation.statusCode"/>
            <short value="statusCode"/>
            <definition value="SHALL contain exactly one [1..1] statusCode (CONF:1098-7321)."/>
            <min value="1"/>
            <max value="1"/>
        </element>
        <element id="Observation.statusCode.code">
            <path value="Observation.statusCode.code"/>
            <short value="code"/>
            <definition value="This statusCode SHALL contain exactly one [1..1] @code=&quot;completed&quot; Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1098-19087)."/>
            <min value="1"/>
            <max value="1"/>
            <patternString value="completed"/>
        </element>
        <element id="Observation.value">
            <path value="Observation.value"/>
            <short value="value"/>
            <definition value="SHALL contain exactly one [1..1] value with @xsi:type=&quot;CE&quot;, where the code SHALL be selected from ValueSet Problem Status urn:oid:2.16.840.1.113883.3.88.12.80.68 DYNAMIC (CONF:1098-7322)."/>
            <min value="1"/>
            <max value="1"/>
            <binding>
                <strength value="required"/>
            </binding>
        </element>
    </differential>
</StructureDefinition>